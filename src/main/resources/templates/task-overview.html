<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Taskoverview</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
<header>
  <h1>Task overview</h1>
  <h2 th:text="'Projekt ID: ' + ${projectId} + ', Subprojekt ID: ' + ${subprojectId}">Project & Subproject Info</h2>
</header>
<main>
  <section>
    <h3>List over tasks</h3>
    <!-- Kontroller, om der er tasks -->
    <div th:if="${tasks != null and tasks.size() > 0}">
      <table>
        <thead>
        <tr>
          <th>Opgave ID</th>
          <th>Opgavenavn</th>
          <th>Startdato</th>
          <th>Slutdato</th>
          <th>Status</th>
          <th>Subprojekt ID</th>
        </tr>
        </thead>
        <tbody>
        <!-- IterÃ©r over tasks -->
        <tr th:each="task : ${tasks}">
          <td th:text="${task.task_id}">Task ID</td>
          <td th:text="${task.task_name}">Task Name</td>
          <td th:text="${task.startdate}">Start Date</td>
          <td th:text="${task.enddate}">End Date</td>
          <td th:text="${#strings.capitalize(task.status.name().toLowerCase())}">Status</td>
          <td th:text="${task.subproject_id}">Subproject ID</td>
        </tr>
        </tbody>
      </table>
    </div>
    <!-- Hvis der ikke er tasks -->
    <div th:if="${tasks == null || tasks.size() == 0}">
      <p>No tasks found for this project or subproject.</p>
    </div>
  </section>
</main>
</body>
</html>
